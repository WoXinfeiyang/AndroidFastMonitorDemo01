plugins {
    id 'java-library'
    id 'kotlin'
    id 'kotlin-kapt'
    id 'groovy'
    id 'maven'
}

java {
    sourceCompatibility = JavaVersion.VERSION_1_7
    targetCompatibility = JavaVersion.VERSION_1_7
}

dependencies {
    implementation fileTree(dir: "libs", include: ["*.jar"])
    implementation gradleApi()
    implementation localGroovy()
    implementation "org.jetbrains.kotlin:kotlin-stdlib:"+rootProject.ext.config["kotlin_version"]

    compileOnly "com.android.tools.build:gradle:"+rootProject.ext.config["gradle"]
    testCompileOnly "com.android.tools.build:gradle:"+rootProject.ext.config["gradle"]

    kapt "com.google.auto.service:auto-service:"+rootProject.ext.config["auto_service"]
    implementation "com.google.auto.service:auto-service:"+rootProject.ext.config["auto_service"]
}


String GROUP="com.fxj.fastMonitorPlugins"
String ARTIFACTID="fastMonitorPlugins"
String VERSION="latest"

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri('../repo'))
            pom.groupId=GROUP
            pom.artifactId =ARTIFACTID
            pom.version =VERSION
        }
    }
}